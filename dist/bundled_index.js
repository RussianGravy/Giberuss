/*! For license information please see bundled_index.js.LICENSE.txt */
(()=>{"use strict";var e=0,t=function(t){e=t};function n(){var e,t,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.toStringTag||"@@toStringTag";function a(n,o,i,c){var a=o&&o.prototype instanceof s?o:s,l=Object.create(a.prototype);return r(l,"_invoke",function(n,r,o){var i,c,a,s=0,l=o||[],f=!1,v={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,c=0,a=e,v.n=n,u}};function p(n,r){for(c=n,a=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=v.p,g=i[2];n>3?(o=g===r)&&(a=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(c=0,v.v=r,v.n=i[1]):p<g&&(o=n<3||i[0]>r||r>g)&&(i[4]=n,i[5]=r,v.n=g,c=0))}if(o||n>1)return u;throw f=!0,r}return function(o,l,g){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,g),c=l,a=g;(t=c<2?e:a)||!f;){i||(c?c<3?(c>1&&(v.n=-1),p(c,a)):v.n=a:v.v=a);try{if(s=2,i){if(c||(o="next"),t=i[o]){if(!(t=t.call(i,a)))throw TypeError("iterator result is not an object");if(!t.done)return t;a=t.value,c<2&&(c=0)}else 1===c&&(t=i.return)&&t.call(i),c<2&&(a=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=e}else if((t=(f=v.n<0)?a:n.call(r,v))!==u)break}catch(t){i=e,c=1,a=t}finally{s=1}}return{value:t,done:f}}}(n,i,c),!0),l}var u={};function s(){}function l(){}function f(){}t=Object.getPrototypeOf;var v=[][i]?t(t([][i]())):(r(t={},i,function(){return this}),t),p=f.prototype=s.prototype=Object.create(v);function g(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,r(e,c,"GeneratorFunction")),e.prototype=Object.create(p),e}return l.prototype=f,r(p,"constructor",f),r(f,"constructor",l),l.displayName="GeneratorFunction",r(f,c,"GeneratorFunction"),r(p),r(p,c,"Generator"),r(p,i,function(){return this}),r(p,"toString",function(){return"[object Generator]"}),(n=function(){return{w:a,m:g}})()}function r(e,t,n,o){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}r=function(e,t,n,o){function c(t,n){r(e,t,function(e){return this._invoke(t,n,e)})}t?i?i(e,t,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[t]=n:(c("next",0),c("throw",1),c("return",2))},r(e,t,n,o)}function o(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var c=e.apply(t,n);function a(e){o(c,r,i,a,u,"next",e)}function u(e){o(c,r,i,a,u,"throw",e)}a(void 0)})}}console.log("well you're in the bundle");var c=document.querySelector("#toggle");chrome.storage.session.setAccessLevel({accessLevel:"TRUSTED_AND_UNTRUSTED_CONTEXTS"}),onload=function(){var e=i(n().m(function e(){var t,r;return n().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,chrome.storage.session.get("isActive");case 1:t=e.v,null==(r=t.isActive)?(console.log("isActive not in the database. Initalizing to false"),chrome.storage.session.set({isActive:0}),c.value=0):(console.log("isActive is in the database. Toggling it."),c.value=r);case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),c.addEventListener("change",function(){var e=i(n().m(function e(t){return n().w(function(e){for(;;)switch(e.n){case 0:chrome.storage.session.set({isActive:c.value}),console.log(c.value),console.log("toggleing to ",c.value);case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()),console.log(document.querySelector("input")),document.querySelector('input[type="text"]').addEventListener("click",function(e){var n=e.currentTarget.selectionStart;t(n||0)}),document.querySelector('input[type="text"]').addEventListener("input",function(n){var r=n.currentTarget,o=e;if(console.log(n.data,o,r.selectionEnd)," "==n.data){console.log("hit a space!!");var i=r.value.substring(o,r.selectionEnd),c=function(e){for(var t="",n=0;n<e.length;n++)"v"==e[n]||"в"==e[n]?t+="в":"l"==e[n]||"л"==e[n]?t+="л":"k"==e[n]||"к"==e[n]?t+="к":"a"==e[n]||"а"==e[n]?t+="а":"b"==e[n]||"б"==e[n]?t+="б":"g"==e[n]||"г"==e[n]?t+="г":"d"==e[n]||"д"==e[n]?t+="д":"i"==e[n]||"и"==e[n]?t+="и":"m"==e[n]||"м"==e[n]?t+="м":"n"==e[n]||"н"==e[n]?t+="н":"r"==e[n]||"р"==e[n]?t+="р":"p"==e[n]||"п"==e[n]?t+="п":"t"==e[n]||"т"==e[n]?t+="т":"u"==e[n]||"у"==e[n]?t+="у":"f"==e[n]||"ф"==e[n]?t+="ф":"h"==e[n]||"х"==e[n]?"i"==e[n+1]?(t+="ы",n+=1):t+="х":"e"==e[n]||"е"==e[n]?"e"==e[n]&&"e"==e[n+1]?(t+="и",n+=1):t+="е":"o"==e[n]||"о"==e[n]?"o"==e[n]&&"o"==e[n+1]?(t+="у",n+=1):t+="о":"s"==e[n]||"с"==e[n]?"s"==e[n]&&"h"==e[n+1]?(t+="ш",n+=1):"s"==e[n]&&"z"==e[n+1]&&"h"==e[n+2]?(t+="щ",n+=2):t+="с":"c"==e[n]||"к"==e[n]?"c"==e[n]&&"h"==e[n+1]?(t+="ч",n+=1):t+="к":"z"==e[n]||"з"==e[n]?"z"==e[n]&&"h"==e[n+1]?(t+="ж",n+=1):t+="з":"y"==e[n]||"й"==e[n]||"я"==e[n]?"y"==e[n]&&"a"==e[n+1]?(t+="я",n+=1):"я"==e[n]?t+="я":t+="й":" "!=e[n]&&"?"!=e[n]&&"."!=e[n]&&","!=e[n]||(t+=e[n]);return t}(i);console.log(i,c),r.setRangeText(c,o,r.selectionEnd,"end"),o=r.selectionEnd}console.log(r.selectionStart,r.selectionEnd),t(o)}),document.querySelector('input[type="text"]').addEventListener("keyDown",function(n){if("ArrowUp"==n.key||"ArrowDown"==n.key||"ArrowLeft"==n.key||"ArrowRight"==n.key){var r=n.currentTarget.selectionStart;t(r||0)}else"BackSpace"==n.key&&t(e-1)})})();