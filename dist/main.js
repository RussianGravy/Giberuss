(()=>{"use strict";var e=0,t=function(t){e=t},n=function(e){var n=e.currentTarget.selectionStart;t(n||0)},r=function(n){if("ArrowUp"==n.key||"ArrowDown"==n.key||"ArrowLeft"==n.key||"ArrowRight"==n.key){var r=n.currentTarget.selectionStart;t(r||0)}else"BackSpace"==n.key&&t(e-1)},o=function(n){var r=n.currentTarget,o=e;if(console.log(n.data,o,r.selectionEnd)," "==n.data){console.log("hit a space!!");var i=r.value.substring(o,r.selectionEnd),c=function(e){for(var t="",n=0;n<e.length;n++)"v"==e[n]||"в"==e[n]?t+="в":"l"==e[n]||"л"==e[n]?t+="л":"k"==e[n]||"к"==e[n]?t+="к":"a"==e[n]||"а"==e[n]?t+="а":"b"==e[n]||"б"==e[n]?t+="б":"g"==e[n]||"г"==e[n]?t+="г":"d"==e[n]||"д"==e[n]?t+="д":"i"==e[n]||"и"==e[n]?t+="и":"m"==e[n]||"м"==e[n]?t+="м":"n"==e[n]||"н"==e[n]?t+="н":"r"==e[n]||"р"==e[n]?t+="р":"p"==e[n]||"п"==e[n]?t+="п":"t"==e[n]||"т"==e[n]?t+="т":"u"==e[n]||"у"==e[n]?t+="у":"f"==e[n]||"ф"==e[n]?t+="ф":"h"==e[n]||"х"==e[n]?"i"==e[n+1]?(t+="ы",n+=1):t+="х":"e"==e[n]||"е"==e[n]?"e"==e[n]&&"e"==e[n+1]?(t+="и",n+=1):t+="е":"o"==e[n]||"о"==e[n]?"o"==e[n]&&"o"==e[n+1]?(t+="у",n+=1):t+="о":"s"==e[n]||"с"==e[n]?"s"==e[n]&&"h"==e[n+1]?(t+="ш",n+=1):"s"==e[n]&&"z"==e[n+1]&&"h"==e[n+2]?(t+="щ",n+=2):t+="с":"c"==e[n]||"к"==e[n]?"c"==e[n]&&"h"==e[n+1]?(t+="ч",n+=1):t+="к":"z"==e[n]||"з"==e[n]?"z"==e[n]&&"h"==e[n+1]?(t+="ж",n+=1):t+="з":"y"==e[n]||"й"==e[n]||"я"==e[n]?"y"==e[n]&&"a"==e[n+1]?(t+="я",n+=1):"я"==e[n]?t+="я":t+="й":" "!=e[n]&&"?"!=e[n]&&"."!=e[n]&&","!=e[n]||(t+=e[n]);return t}(i);console.log(i,c),r.setRangeText(c,o,r.selectionEnd,"end"),o=r.selectionEnd}console.log(r.selectionStart,r.selectionEnd),t(o)};function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}!function(){if(!window.__myext_cs_installed__){window.__myext_cs_installed__=!0;var e='input[type="text"],input[type="email"],input[type="password"],[contenteditable="true"]',t=document.querySelectorAll(e),c={capture:!0},a=function(e){return e&&e.matches&&e.matches()},u=new WeakSet,l=!1,s=!1;chrome.storage.session.get("isActive").then(function(e){return e.isActive?v():y()}).catch(function(e){console.error(e)}),chrome.storage.onChanged.addListener(function(e,t){"session"===t&&e.isActive&&(e.isActive?v():y())})}function f(e){u.has(e)||(e.addEventListener("click",n,c),e.addEventListener("keydown",r,c),e.addEventListener("input",o,c),u.add(e))}function d(e){u.has(e)&&(e.removeEventListener("click",n,opt),e.removeEventListener("keydown",r,c),e.removeEventListener("input",o,c),u.delete(e))}function v(){if(l)return!1;l=!0,t.forEach(f),function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelector(e).forEach(f)}(),s||(s=new MutationObserver(function(t){var n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,c=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw c}}}}(t);try{for(r.s();!(n=r.n()).done;){var o,c,u=n.value;null===(o=u.addedNodes)||void 0===o||o.forEach(function(t){a(t)&&f(t),t.querySelectorAll&&t.querySelectorAll(e).forEach(f)}),null===(c=u.removedNodes)||void 0===c||c.forEach(function(t){a(t)&&d(t),t.querySelectorAll&&t.querySelectorAll(e).forEach(d(t))})}}catch(e){r.e(e)}finally{r.f()}})).observe(document.documentElement,{childList:!0,subtree:!0})}function y(){if(!l)return!0;l=!1,s&&(s.disconnect(),s=null),document.querySelector(e).forEach(d)}}()})();